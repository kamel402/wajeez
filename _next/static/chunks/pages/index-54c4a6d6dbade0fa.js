(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2792)}])},2792:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return r}});var s=t(5893),a=t(7294);let i=()=>(0,s.jsx)("header",{children:(0,s.jsxs)("div",{class:"container",children:[(0,s.jsx)("div",{class:"logo",children:(0,s.jsx)("img",{src:"/wajeez-logo.png",alt:"Logo"})}),(0,s.jsx)("div",{class:"links",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"من نحن"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"خدماتنا"})})]})}),(0,s.jsx)("div",{class:"overlay"}),(0,s.jsx)("div",{class:"hamburger-menu",children:(0,s.jsx)("div",{class:"bar"})})]})}),n=()=>{let[e,l]=(0,a.useState)(null),[t,n]=(0,a.useState)(""),[r,d]=(0,a.useState)([]),[c,o]=(0,a.useState)([]),[h,g]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[u,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{console.log("legalData: ",t),console.log("result: ",h),console.log("explanation: ",r),console.log("file: ",e),console.log("language: ",x)},[r,h,e,x]);let f=e=>{l(e.target.files[0])},p=async l=>{if(l.preventDefault(),!e){console.log();return}let t=new FormData;t.append("pdfFile",e);let s=await fetch("http://localhost:3000/extract-text",{method:"post",body:t}).then(e=>e.text());console.log({text:s}),n(s)},b=async e=>{e.preventDefault();let l=document.getElementById("loading");if(l.classList.remove("hidden"),j(!0),""!=t){var s=(await (await fetch("/api/define",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({legalData:t,language:x})})).json()).choices[0].text;g(s);var a=s.split(/\r?\n/);let e=await fetch("/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({legalData:t,language:x})}),r=await e.json();var i=r.choices[0].text;console.log(i),o(i.split("*").filter(e=>e.length>1)),l.classList.add("hidden");var n=[];for(let e=0;e<a.length;e++)a[e].length>0&&n.push(a[e]),d(n);j(!1)}else l.innerText="You did not submit anything, please submit again."},v=e=>{m(e.target.value),console.log("language changed to: ",x)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{}),(0,s.jsxs)("div",{className:"p-6 mb-4",children:[(0,s.jsxs)("form",{className:"flex flex-col bg-whiterounded-lg",onSubmit:b,children:[(0,s.jsx)("label",{className:"block text-gray-700 mb-2 heading text-right",htmlFor:"legal_data",children:":ادخل النص"}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{className:"float-right p-3 mb-4 rounded-lg w-1/2 md:w-1/3 lg:w-1/4 sandy text-right",id:"legal_data",value:t,onChange:e=>n(e.target.value),name:"legalData",cols:"40",rows:"5"})}),(0,s.jsx)("label",{className:"text-right",htmlFor:"language",children:":اختر لغة"}),(0,s.jsx)("div",{children:(0,s.jsxs)("select",{className:"float-right p-3 mb-4 rounded-lg w-1/2 md:w-1/3 lg:w-1/4 sandy",id:"language",value:x,onChange:v,children:[(0,s.jsx)("option",{className:"text-right",value:"",children:"--اختر--"}),[{value:"arabic",label:"العربية"},{value:"english",label:"الانجليزية"}].map(e=>{let{value:l,label:t}=e;return(0,s.jsx)("option",{className:"text-right",value:l,children:t},l)})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"float-right submit-btn hover:bg-gray-700 mb-4 font-medium py-2 px-4 rounded-lg min-w-fit w-1/6 md:w-1/8 lg:w-1/12",type:"submit",children:"ارسل"})})]}),!1==u&&(0,s.jsxs)("div",{className:"report",children:[(0,s.jsxs)("div",{className:"report-col",children:[(0,s.jsx)("label",{className:"text-right block text-gray-700 font-medium",htmlFor:"explanation",children:":المصطلحات القانونية"}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{id:"explanation",className:"p text-right",children:r.map((e,l)=>(0,s.jsxs)("div",{className:"desc",children:[(0,s.jsx)("b",{children:e.substring(0,e.indexOf(":")+1)}),(0,s.jsx)("p",{children:e.substring(e.indexOf(":")+1)})]},l))})})]}),(0,s.jsxs)("div",{className:"report-col",children:[(0,s.jsx)("div",{className:"text-right block text-gray-700 font-medium",children:"الملخص"}),(0,s.jsx)("div",{className:"desc",children:(0,s.jsx)("ul",{children:c.map((e,l)=>(0,s.jsx)("li",{className:"summary-item text-right",children:e},l))})})]})]}),(0,s.jsxs)("form",{className:"flex flex-col bg-whiterounded-lg",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{id:"loading",className:"float-right hidden",children:"...جار تبسيط المستند"})}),(0,s.jsx)("div",{children:(0,s.jsx)("label",{className:"float-right block text-gray-700 mb-2 heading",htmlFor:"file-selector",children:":ارفع ملف"})}),(0,s.jsx)("div",{children:(0,s.jsx)("label",{htmlFor:"file-selector",className:"float-right text-right custom-file-upload",children:"+ اختر ملف"})}),(0,s.jsx)("input",{type:"file",id:"file-selector",onChange:f}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"float-right submit-btn hover:bg-gray-700 mb-4 font-medium py-2 px-4 rounded-lg min-w-fit w-1/6 md:w-1/8 lg:w-1/12",onClick:p,children:"PDF حلل ملف"})})]})]})]})};var r=n}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);